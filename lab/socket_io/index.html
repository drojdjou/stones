<!DOCTYPE html>
<html>

<head>
	<title>Socket IO Time Server</title>

	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable = no">

	<style type="text/css">

	body {
		background-color: #000;
		font-family: monospace;
		font-size: 13px;
		color: #0f0;
	}

	h1 {
		font-size: 1em;
	}

	p {
		line-height: 1.4;
		margin: 0;
	}

	</style>

</head>

<body>
	
<p>An Express app getting time from a socket.io server</p> 

<p id="comm"></p> 
<p id="time"></p> 

<script type="text/javascript" src="socket.io.js"></script>

<script type="text/javascript">

	var port = 4001;

	var comm = document.querySelector('#comm');
	var time = document.querySelector('#time');

	var WELCOME = 'welcome';
	var GET_TIME = 'getTime';
	var SEND_TIME = 'sendTime';

	var socket = io('http://' + location.hostname + ':' + 4001);
	
	socket.on(WELCOME, function (data) {
		comm.innerHTML = data.message;
	});

	socket.on(SEND_TIME, function (data) {
		time.innerHTML = data;
	});

</script>

</body>
</html>